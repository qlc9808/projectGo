<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.oracle.projectGo.gameContentsMapper">

    <!--게임콘텐츠 insert-->
    <insert id="gameContentInsert" parameterType="GameContents">
        INSERT INTO GameContents(
                                 id, userId, title, imagename, imagepath,
                                 subscribeDate, gameLevel,
                                 maxSubscribers, content,
                                 subscribleStart, subscribleEnd,
                                 price, discountRate, discountPrice
                                )
                        VALUES  (
                                 GAMECONTENTS_ID_SEQ.nextval, #{userId}, #{title},#{imagename},#{imagepath},
                                 #{subscribeDate}, #{gameLevel},
                                 #{maxSubscribers}, #{content},
                                 #{subscribleStart}, #{subscribleEnd},
                                 #{price}, #{discountRate},  #{discountPrice}
                                )
    </insert>


    <!-- 게임콘텐츠 총 갯수   -->
    <select id="gameContentsTotalCount" resultType="int">
        select      count(*)
        from        gamecontents
    </select>


    <!-- 게임콘텐츠 select -->
    <select id="gameContentsList" resultType="GameContents">
          select      *
          from        gameContents
          order by    subscriblestart desc
    </select>

<!--    버전 1
        <select id="gameContentsListByIds"  parameterType="java.util.List" resultType="GameContents" >-->
<!--        SELECT *-->
<!--        FROM gameContents-->
<!--        WHERE id IN-->
<!--        <foreach item="item" index="index" collection="list" open="(" separator="," close=")">-->
<!--            #{item}-->
<!--        </foreach>-->
<!--    </select>-->

    <!-- 버전 2 -->
    <select id="gameContentsById" parameterType="int" resultType="GameContents">
        SELECT  *
        FROM    gameContents
        WHERE   id = #{gameId}
    </select>


</mapper>





